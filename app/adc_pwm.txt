El único cambio que realizamos en el código es cambiar la función task_pwm_update de task_pwm.c, en donde le asignamos a la estructura shared_data, en el apartado de pwm_active el valor periodo*valor_leido_adc/máx_valor_adc. Para que el valor del periodo activo Ton esté relacionado con la lectura del ADC y en donde el máximo valor que puede tomar el adc, al ser de 12 bits es de 4095.